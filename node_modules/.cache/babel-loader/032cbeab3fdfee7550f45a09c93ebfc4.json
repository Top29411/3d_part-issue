{"ast":null,"code":"var _jsxFileName = \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/canvas/components/Girl.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from \"react\";\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader';\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader';\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\";\nimport { useLoader } from \"react-three-fiber\";\nimport { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Girl = function Girl() {\n  _s();\n\n  var materials = useLoader(MTLLoader, \"girl/girl OBJ.mtl\");\n  var theModel = useLoader(OBJLoader, \"girl/girl.obj\", function (loader) {\n    materials.preload();\n    console.log(materials);\n    loader.setMaterials(materials);\n  });\n  var modelRef = useRef(theModel);\n  useEffect(function () {\n    if (theModel) {\n      console.log(\"1\", theModel);\n      console.log(\"1\", materials); // console.log(\"11\", theModel?.children[0].geometry);\n\n      console.log(\"2\", modelRef.current);\n      modelRef.current.traverse(function (child) {\n        if (child.isMesh) child.geometry.computeVertexNormals();\n      });\n    }\n  }, [theModel]);\n  var geometry = useMemo(function () {\n    var g = [];\n    theModel.traverse(function (c) {\n      if (c.type === \"Mesh\") {\n        console.log(c);\n        g.push( /*#__PURE__*/_jsxDEV(\"mesh\", {\n          geometry: c.geometry // material={c.material}\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, _this));\n      }\n    });\n    return g;\n  }, [theModel]);\n  return (\n    /*#__PURE__*/\n    // <primitive\n    //   ref={modelRef}\n    //   object={theModel}\n    //   scale={[1, 1, 1]}\n    //   position={[0, -1, 0]}\n    //   receiveShadow\n    // />\n    _jsxDEV(\"group\", {\n      rotation: [0, 0, 0],\n      children: geometry\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, _this)\n  );\n};\n\n_s(Girl, \"Z0VQIx6FaMmmwYKs0iAnyOQPSfk=\", false, function () {\n  return [useLoader, useLoader];\n});\n\n_c = Girl;\nexport default Girl;\n\nvar _c;\n\n$RefreshReg$(_c, \"Girl\");","map":{"version":3,"names":["React","useMemo","OBJLoader","MTLLoader","TextureLoader","useLoader","useRef","useEffect","Girl","materials","theModel","loader","preload","console","log","setMaterials","modelRef","current","traverse","child","isMesh","geometry","computeVertexNormals","g","c","type","push"],"sources":["/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/canvas/components/Girl.jsx"],"sourcesContent":["import React, {useMemo} from \"react\";\n\nimport { OBJLoader } from 'three/examples/jsm/loaders/OBJLoader'\nimport { MTLLoader } from 'three/examples/jsm/loaders/MTLLoader'\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\";\nimport {useLoader} from \"react-three-fiber\";\nimport { useRef, useEffect } from \"react\";\n\nconst Girl = () => {\n    const materials = useLoader(MTLLoader, \"girl/girl OBJ.mtl\")\n    const theModel = useLoader(OBJLoader, \"girl/girl.obj\", (loader) => {\n        materials.preload()\n        console.log(materials)\n        loader.setMaterials(materials)\n    });\n    const modelRef = useRef(theModel);\n\n    useEffect(() => {\n        if (theModel) {\n            console.log(\"1\", theModel);\n            console.log(\"1\", materials);\n            // console.log(\"11\", theModel?.children[0].geometry);\n            console.log(\"2\", modelRef.current);\n\n            modelRef.current.traverse(function (child) {\n                if (child.isMesh) child.geometry.computeVertexNormals();\n            });\n        }\n    }, [theModel]);\n\n    const geometry = useMemo(() => {\n        const g = [];\n        theModel.traverse((c) => {\n            if (c.type === \"Mesh\") {\n                console.log(c)\n                g.push(\n                    <mesh\n                        geometry={c.geometry}\n                        // material={c.material}\n                    />\n                );\n            }\n        });\n        return g;\n    },[theModel])\n\n    return (\n        // <primitive\n        //   ref={modelRef}\n        //   object={theModel}\n        //   scale={[1, 1, 1]}\n        //   position={[0, -1, 0]}\n        //   receiveShadow\n        // />\n        <group rotation={[0,0,0]}>\n            {/*<mesh*/}\n            {/*    ref={modelRef}*/}\n            {/*    geometry={geometry}*/}\n            {/*    scale={[0.001, 0.001, 0.001]}*/}\n            {/*    rotation={[Math.PI / 2,0,0]}*/}\n            {/*>*/}\n            {/*    <meshStandardMaterial*/}\n            {/*        map={colorMap}*/}\n            {/*        normalMap={normalMap}*/}\n            {/*        roughnessMap={roughnessMap}*/}\n            {/*        metalnessMap={metalnessMap}*/}\n            {/*        attachArray=\"material\"*/}\n            {/*        // alphaMap={theModel?.children[0].material.alphaMap}*/}\n            {/*        metalness={1}*/}\n            {/*        roughness={1}*/}\n            {/*    />*/}\n            {/*</mesh>*/}\n            {geometry}\n        </group>\n    );\n};\n\nexport default Girl;"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,OAAf,QAA6B,OAA7B;AAEA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,SAAQC,SAAR,QAAwB,mBAAxB;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;EAAA;;EACf,IAAMC,SAAS,GAAGJ,SAAS,CAACF,SAAD,EAAY,mBAAZ,CAA3B;EACA,IAAMO,QAAQ,GAAGL,SAAS,CAACH,SAAD,EAAY,eAAZ,EAA6B,UAACS,MAAD,EAAY;IAC/DF,SAAS,CAACG,OAAV;IACAC,OAAO,CAACC,GAAR,CAAYL,SAAZ;IACAE,MAAM,CAACI,YAAP,CAAoBN,SAApB;EACH,CAJyB,CAA1B;EAKA,IAAMO,QAAQ,GAAGV,MAAM,CAACI,QAAD,CAAvB;EAEAH,SAAS,CAAC,YAAM;IACZ,IAAIG,QAAJ,EAAc;MACVG,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBJ,QAAjB;MACAG,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBL,SAAjB,EAFU,CAGV;;MACAI,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBE,QAAQ,CAACC,OAA1B;MAEAD,QAAQ,CAACC,OAAT,CAAiBC,QAAjB,CAA0B,UAAUC,KAAV,EAAiB;QACvC,IAAIA,KAAK,CAACC,MAAV,EAAkBD,KAAK,CAACE,QAAN,CAAeC,oBAAf;MACrB,CAFD;IAGH;EACJ,CAXQ,EAWN,CAACZ,QAAD,CAXM,CAAT;EAaA,IAAMW,QAAQ,GAAGpB,OAAO,CAAC,YAAM;IAC3B,IAAMsB,CAAC,GAAG,EAAV;IACAb,QAAQ,CAACQ,QAAT,CAAkB,UAACM,CAAD,EAAO;MACrB,IAAIA,CAAC,CAACC,IAAF,KAAW,MAAf,EAAuB;QACnBZ,OAAO,CAACC,GAAR,CAAYU,CAAZ;QACAD,CAAC,CAACG,IAAF,eACI;UACI,QAAQ,EAAEF,CAAC,CAACH,QADhB,CAEI;;QAFJ;UAAA;UAAA;UAAA;QAAA,SADJ;MAMH;IACJ,CAVD;IAWA,OAAOE,CAAP;EACH,CAduB,EActB,CAACb,QAAD,CAdsB,CAAxB;EAgBA;IAAA;IACI;IACA;IACA;IACA;IACA;IACA;IACA;IACA;MAAO,QAAQ,EAAE,CAAC,CAAD,EAAG,CAAH,EAAK,CAAL,CAAjB;MAAA,UAkBKW;IAlBL;MAAA;MAAA;MAAA;IAAA;EARJ;AA6BH,CAnED;;GAAMb,I;UACgBH,S,EACDA,S;;;KAFfG,I;AAqEN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}