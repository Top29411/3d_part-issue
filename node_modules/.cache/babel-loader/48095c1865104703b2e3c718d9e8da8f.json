{"ast":null,"code":"var _jsxFileName = \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/components/ColorsSlider.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useCallback } from \"react\";\nimport { COLORS } from \"../constants/colors\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ColorsSlider = function ColorsSlider(_ref) {\n  _s();\n\n  var selectSwatch = _ref.selectSwatch;\n  var slider = useRef(),\n      sliderItems = useRef();\n  var posX1 = 0,\n      posX2 = 0,\n      posInitial,\n      difference;\n\n  var dragStart = function dragStart(e) {\n    var items = sliderItems.current;\n    posInitial = items.offsetLeft;\n    difference = sliderItems.current.offsetWidth - slider.current.offsetWidth;\n    difference = difference * -1;\n\n    if (e.type === 'touchstart') {\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX1 = e.clientX; // document.addEventListener(\"onMouseUp\",dragEnd);\n      // document.addEventListener(\"onMouseMove\",dragAction);\n\n      document.onmouseup = dragEnd;\n      document.onmousemove = dragAction;\n    }\n  };\n\n  var dragAction = function dragAction(e) {\n    var items = sliderItems.current;\n\n    if (e.type === 'touchmove') {\n      posX2 = posX1 - e.touches[0].clientX;\n      posX1 = e.touches[0].clientX;\n    } else {\n      posX2 = posX1 - e.clientX;\n      posX1 = e.clientX;\n    }\n\n    if (items.offsetLeft - posX2 <= 0 && items.offsetLeft - posX2 >= difference) {\n      items.style.left = items.offsetLeft - posX2 + \"px\";\n    }\n  };\n\n  var dragEnd = function dragEnd(e) {\n    var threshold = 20;\n    var posFinal;\n    var items = sliderItems.current;\n    posFinal = items.offsetLeft;\n\n    if (posFinal - posInitial < -threshold) {} else if (posFinal - posInitial > threshold) {} else {\n      items.style.left = posInitial + \"px\";\n    } // document.removeEventListener(\"onMouseUp\", dragEnd)\n    // document.removeEventListener(\"onMouseMove\", dragAction)\n\n\n    document.onmouseup = null;\n    document.onmousemove = null;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"js-tray\",\n    className: \"tray\",\n    ref: slider,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"js-tray-slide\",\n      className: \"tray__slide\",\n      ref: sliderItems,\n      onMouseDown: dragStart,\n      onTouchStart: dragStart,\n      onTouchMove: dragAction,\n      onTouchEnd: dragEnd,\n      children: COLORS.map(function (color, idx) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tray__swatch\",\n          style: {\n            background: color.texture ? \"url(\".concat(color.texture, \")\") : \"#\".concat(color.color)\n          },\n          \"data-key\": idx,\n          onClick: selectSwatch\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(ColorsSlider, \"f5/daa6BO5roxa0DKpt85qEdfWg=\");\n\n_c = ColorsSlider;\nexport default ColorsSlider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ColorsSlider\");","map":{"version":3,"names":["React","useEffect","useRef","useCallback","COLORS","ColorsSlider","selectSwatch","slider","sliderItems","posX1","posX2","posInitial","difference","dragStart","e","items","current","offsetLeft","offsetWidth","type","touches","clientX","document","onmouseup","dragEnd","onmousemove","dragAction","style","left","threshold","posFinal","map","color","idx","background","texture"],"sources":["/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/components/ColorsSlider.jsx"],"sourcesContent":["import React, {useEffect, useRef, useCallback} from \"react\";\r\nimport {COLORS} from \"../constants/colors\";\r\n\r\nconst ColorsSlider = ({selectSwatch}) => {\r\n    const slider = useRef(),\r\n        sliderItems = useRef();\r\n\r\n    let posX1 = 0,\r\n        posX2 = 0,\r\n        posInitial,\r\n        difference;\r\n\r\n    const dragStart = (e) => {\r\n        const items = sliderItems.current;\r\n        posInitial = items.offsetLeft;\r\n        difference = sliderItems.current.offsetWidth - slider.current.offsetWidth;\r\n        difference = difference * -1;\r\n\r\n        if (e.type === 'touchstart') {\r\n            posX1 = e.touches[0].clientX;\r\n        } else {\r\n            posX1 = e.clientX;\r\n            // document.addEventListener(\"onMouseUp\",dragEnd);\r\n            // document.addEventListener(\"onMouseMove\",dragAction);\r\n            document.onmouseup = dragEnd;\r\n            document.onmousemove = dragAction;\r\n        }\r\n    }\r\n\r\n    const dragAction = (e) => {\r\n        const items = sliderItems.current;\r\n        if (e.type === 'touchmove') {\r\n            posX2 = posX1 - e.touches[0].clientX;\r\n            posX1 = e.touches[0].clientX;\r\n        } else {\r\n            posX2 = posX1 - e.clientX;\r\n            posX1 = e.clientX;\r\n        }\r\n\r\n        if (items.offsetLeft - posX2 <= 0 && items.offsetLeft - posX2 >= difference) {\r\n            items.style.left = items.offsetLeft - posX2 + \"px\";\r\n        }\r\n    }\r\n\r\n    const dragEnd = (e) => {\r\n        const threshold = 20;\r\n        let posFinal;\r\n\r\n        const items = sliderItems.current;\r\n        posFinal = items.offsetLeft;\r\n        if (posFinal - posInitial < -threshold) {\r\n\r\n        } else if (posFinal - posInitial > threshold) {\r\n\r\n        } else {\r\n            items.style.left = posInitial + \"px\";\r\n        }\r\n        // document.removeEventListener(\"onMouseUp\", dragEnd)\r\n        // document.removeEventListener(\"onMouseMove\", dragAction)\r\n        document.onmouseup = null;\r\n        document.onmousemove = null;\r\n    }\r\n\r\n    return (\r\n        <div id=\"js-tray\" className=\"tray\" ref={slider}>\r\n            <div\r\n                id=\"js-tray-slide\"\r\n                 className=\"tray__slide\"\r\n                 ref={sliderItems}\r\n                onMouseDown={dragStart}\r\n                onTouchStart={dragStart}\r\n                onTouchMove={dragAction}\r\n                onTouchEnd={dragEnd}\r\n            >\r\n                {COLORS.map((color, idx) => (\r\n                    <div\r\n                        key={idx}\r\n                        className=\"tray__swatch\"\r\n                        style={{background: color.texture ?\r\n                                `url(${color.texture})` :\r\n                                `#${color.color}`}}\r\n                        data-key={idx}\r\n                        onClick={selectSwatch}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ColorsSlider;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}