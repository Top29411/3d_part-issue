{"ast":null,"code":"import _slicedToArray from \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/canvas/components/ChairMesh.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport * as THREE from \"three\";\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\";\nimport { useLoader, useThree } from \"react-three-fiber\";\nimport { useRef, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar ChairMesh = function ChairMesh(_ref) {\n  _s();\n\n  var newMaterialOpt = _ref.newMaterialOpt;\n\n  var _useThree = useThree(),\n      camera = _useThree.camera;\n\n  var theModel = useLoader(FBXLoader, \"/bunny/model.fbx\");\n\n  var _useLoader = useLoader(TextureLoader, [\"/bunny/color.png\", \"/bunny/normal.png\", \"/bunny/roughness.png\", \"/bunny/metalic.png\"]),\n      _useLoader2 = _slicedToArray(_useLoader, 4),\n      colorMap = _useLoader2[0],\n      normalMap = _useLoader2[1],\n      roughnessMap = _useLoader2[2],\n      metalnessMap = _useLoader2[3];\n\n  var modelRef = useRef(theModel === null || theModel === void 0 ? void 0 : theModel.children[0]);\n  useEffect(function () {\n    if (theModel) {\n      console.log(\"1\", theModel);\n      console.log(\"11\", theModel === null || theModel === void 0 ? void 0 : theModel.children[0].geometry);\n      console.log(\"2\", colorMap);\n      colorMap.encoding = THREE.sRGBEncoding;\n      colorMap.flipY = false; // theModel.material.map = colorMap;\n      // camera.position.copy(modelRef.current.position)\n      //  Object.assign(theModel.current.material, )\n    }\n  }, [theModel]);\n  return /*#__PURE__*/_jsxDEV(\"primitive\", {\n    ref: modelRef,\n    object: theModel === null || theModel === void 0 ? void 0 : theModel.children[0],\n    scale: [0.1, 0.1, 0.1],\n    rotation: [0, Math.PI, 0],\n    position: [-10, 0, -50],\n    receiveShadow: true,\n    castShadow: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, _this) // <mesh\n  //     ref={modelRef}\n  //     geometry={theModel?.children[0].geometry}\n  //     // material={theModel?.children[0].material}\n  //     scale={[1, 1, 1]}\n  //     rotation={[0, 2, 0]}\n  //     position={[-10, 0, -50]}\n  // >\n  //   <meshPhongMaterial\n  //       map={colorMap}\n  //       normalMap={normalMap}\n  //       roughnessMap={roughnessMap}\n  //       metalnessMap={metalnessMap}\n  //       // metalness={1}\n  //       // roughness={1}\n  //   />\n  // </mesh>\n  ;\n};\n\n_s(ChairMesh, \"pWOT3yDZS+VTZI4tuMBnBh11Bi4=\", false, function () {\n  return [useThree, useLoader, useLoader];\n});\n\n_c = ChairMesh;\nexport default ChairMesh;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChairMesh\");","map":{"version":3,"names":["React","THREE","FBXLoader","TextureLoader","useLoader","useThree","useRef","useEffect","ChairMesh","newMaterialOpt","camera","theModel","colorMap","normalMap","roughnessMap","metalnessMap","modelRef","children","console","log","geometry","encoding","sRGBEncoding","flipY","Math","PI"],"sources":["/Users/pavlomishchenko/Downloads/fbx-app-react-forked/src/canvas/components/ChairMesh.jsx"],"sourcesContent":["import React from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { FBXLoader } from \"three/examples/jsm/loaders/FBXLoader\";\r\nimport { TextureLoader } from \"three/src/loaders/TextureLoader\";\r\nimport {useLoader, useThree} from \"react-three-fiber\";\r\nimport { useRef, useEffect } from \"react\";\r\n\r\nconst ChairMesh = ({ newMaterialOpt }) => {\r\n  const {\r\n    camera,\r\n  } = useThree();\r\n\r\n  const theModel = useLoader(FBXLoader, \"/bunny/model.fbx\");\r\n  const [colorMap,normalMap,roughnessMap, metalnessMap] = useLoader(TextureLoader, [\r\n      \"/bunny/color.png\",\r\n    \"/bunny/normal.png\",\r\n    \"/bunny/roughness.png\",\r\n    \"/bunny/metalic.png\",\r\n  ]);\r\n  const modelRef = useRef(theModel?.children[0]);\r\n\r\n  useEffect(() => {\r\n    if (theModel) {\r\n      console.log(\"1\", theModel);\r\n      console.log(\"11\", theModel?.children[0].geometry);\r\n      console.log(\"2\", colorMap);\r\n      colorMap.encoding = THREE.sRGBEncoding;\r\n      colorMap.flipY = false;\r\n      // theModel.material.map = colorMap;\r\n      // camera.position.copy(modelRef.current.position)\r\n      //  Object.assign(theModel.current.material, )\r\n    }\r\n  }, [theModel]);\r\n\r\n  return (\r\n    <primitive\r\n      ref={modelRef}\r\n      object={theModel?.children[0]}\r\n      scale={[0.1, 0.1, 0.1]}\r\n      rotation={[0, Math.PI, 0]}\r\n      position={[-10, 0, -50]}\r\n      receiveShadow\r\n      castShadow\r\n    />\r\n    // <mesh\r\n    //     ref={modelRef}\r\n    //     geometry={theModel?.children[0].geometry}\r\n    //     // material={theModel?.children[0].material}\r\n    //     scale={[1, 1, 1]}\r\n    //     rotation={[0, 2, 0]}\r\n    //     position={[-10, 0, -50]}\r\n    // >\r\n    //   <meshPhongMaterial\r\n    //       map={colorMap}\r\n    //       normalMap={normalMap}\r\n    //       roughnessMap={roughnessMap}\r\n    //       metalnessMap={metalnessMap}\r\n    //       // metalness={1}\r\n    //       // roughness={1}\r\n    //   />\r\n    // </mesh>\r\n  );\r\n};\r\n\r\nexport default ChairMesh;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,SAAT,QAA0B,sCAA1B;AACA,SAASC,aAAT,QAA8B,iCAA9B;AACA,SAAQC,SAAR,EAAmBC,QAAnB,QAAkC,mBAAlC;AACA,SAASC,MAAT,EAAiBC,SAAjB,QAAkC,OAAlC;;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAwB;EAAA;;EAAA,IAArBC,cAAqB,QAArBA,cAAqB;;EACxC,gBAEIJ,QAAQ,EAFZ;EAAA,IACEK,MADF,aACEA,MADF;;EAIA,IAAMC,QAAQ,GAAGP,SAAS,CAACF,SAAD,EAAY,kBAAZ,CAA1B;;EACA,iBAAwDE,SAAS,CAACD,aAAD,EAAgB,CAC7E,kBAD6E,EAE/E,mBAF+E,EAG/E,sBAH+E,EAI/E,oBAJ+E,CAAhB,CAAjE;EAAA;EAAA,IAAOS,QAAP;EAAA,IAAgBC,SAAhB;EAAA,IAA0BC,YAA1B;EAAA,IAAwCC,YAAxC;;EAMA,IAAMC,QAAQ,GAAGV,MAAM,CAACK,QAAD,aAACA,QAAD,uBAACA,QAAQ,CAAEM,QAAV,CAAmB,CAAnB,CAAD,CAAvB;EAEAV,SAAS,CAAC,YAAM;IACd,IAAII,QAAJ,EAAc;MACZO,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBR,QAAjB;MACAO,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkBR,QAAlB,aAAkBA,QAAlB,uBAAkBA,QAAQ,CAAEM,QAAV,CAAmB,CAAnB,EAAsBG,QAAxC;MACAF,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAiBP,QAAjB;MACAA,QAAQ,CAACS,QAAT,GAAoBpB,KAAK,CAACqB,YAA1B;MACAV,QAAQ,CAACW,KAAT,GAAiB,KAAjB,CALY,CAMZ;MACA;MACA;IACD;EACF,CAXQ,EAWN,CAACZ,QAAD,CAXM,CAAT;EAaA,oBACE;IACE,GAAG,EAAEK,QADP;IAEE,MAAM,EAAEL,QAAF,aAAEA,QAAF,uBAAEA,QAAQ,CAAEM,QAAV,CAAmB,CAAnB,CAFV;IAGE,KAAK,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAHT;IAIE,QAAQ,EAAE,CAAC,CAAD,EAAIO,IAAI,CAACC,EAAT,EAAa,CAAb,CAJZ;IAKE,QAAQ,EAAE,CAAC,CAAC,EAAF,EAAM,CAAN,EAAS,CAAC,EAAV,CALZ;IAME,aAAa,MANf;IAOE,UAAU;EAPZ;IAAA;IAAA;IAAA;EAAA,SADF,CAUE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EA1BF;AA4BD,CAvDD;;GAAMjB,S;UAGAH,Q,EAEaD,S,EACuCA,S;;;KANpDI,S;AAyDN,eAAeA,SAAf"},"metadata":{},"sourceType":"module"}