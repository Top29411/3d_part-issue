{"ast":null,"code":"import _classCallCheck from \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\n\nvar ImageLoader = /*#__PURE__*/function (_Loader) {\n  _inherits(ImageLoader, _Loader);\n\n  var _super = _createSuper(ImageLoader);\n\n  function ImageLoader(manager) {\n    _classCallCheck(this, ImageLoader);\n\n    return _super.call(this, manager);\n  }\n\n  _createClass(ImageLoader, [{\n    key: \"load\",\n    value: function load(url, onLoad, onProgress, onError) {\n      if (this.path !== undefined) url = this.path + url;\n      url = this.manager.resolveURL(url);\n      var scope = this;\n      var cached = Cache.get(url);\n\n      if (cached !== undefined) {\n        scope.manager.itemStart(url);\n        setTimeout(function () {\n          if (onLoad) onLoad(cached);\n          scope.manager.itemEnd(url);\n        }, 0);\n        return cached;\n      }\n\n      var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n      function onImageLoad() {\n        image.removeEventListener('load', onImageLoad, false);\n        image.removeEventListener('error', onImageError, false);\n        Cache.add(url, this);\n        if (onLoad) onLoad(this);\n        scope.manager.itemEnd(url);\n      }\n\n      function onImageError(event) {\n        image.removeEventListener('load', onImageLoad, false);\n        image.removeEventListener('error', onImageError, false);\n        if (onError) onError(event);\n        scope.manager.itemError(url);\n        scope.manager.itemEnd(url);\n      }\n\n      image.addEventListener('load', onImageLoad, false);\n      image.addEventListener('error', onImageError, false);\n\n      if (url.substr(0, 5) !== 'data:') {\n        if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n      }\n\n      scope.manager.itemStart(url);\n      image.src = url;\n      return image;\n    }\n  }]);\n\n  return ImageLoader;\n}(Loader);\n\nexport { ImageLoader };","map":{"version":3,"names":["Cache","Loader","ImageLoader","manager","url","onLoad","onProgress","onError","path","undefined","resolveURL","scope","cached","get","itemStart","setTimeout","itemEnd","image","document","createElementNS","onImageLoad","removeEventListener","onImageError","add","event","itemError","addEventListener","substr","crossOrigin","src"],"sources":["/Users/pavlomishchenko/Downloads/fbx-app-react-forked/node_modules/three/src/loaders/ImageLoader.js"],"sourcesContent":["import { Cache } from './Cache.js';\nimport { Loader } from './Loader.js';\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\n\nexport { ImageLoader };\n"],"mappings":";;;;AAAA,SAASA,KAAT,QAAsB,YAAtB;AACA,SAASC,MAAT,QAAuB,aAAvB;;IAEMC,W;;;;;EAEL,qBAAaC,OAAb,EAAuB;IAAA;;IAAA,yBAEfA,OAFe;EAItB;;;;WAED,cAAMC,GAAN,EAAWC,MAAX,EAAmBC,UAAnB,EAA+BC,OAA/B,EAAyC;MAExC,IAAK,KAAKC,IAAL,KAAcC,SAAnB,EAA+BL,GAAG,GAAG,KAAKI,IAAL,GAAYJ,GAAlB;MAE/BA,GAAG,GAAG,KAAKD,OAAL,CAAaO,UAAb,CAAyBN,GAAzB,CAAN;MAEA,IAAMO,KAAK,GAAG,IAAd;MAEA,IAAMC,MAAM,GAAGZ,KAAK,CAACa,GAAN,CAAWT,GAAX,CAAf;;MAEA,IAAKQ,MAAM,KAAKH,SAAhB,EAA4B;QAE3BE,KAAK,CAACR,OAAN,CAAcW,SAAd,CAAyBV,GAAzB;QAEAW,UAAU,CAAE,YAAY;UAEvB,IAAKV,MAAL,EAAcA,MAAM,CAAEO,MAAF,CAAN;UAEdD,KAAK,CAACR,OAAN,CAAca,OAAd,CAAuBZ,GAAvB;QAEA,CANS,EAMP,CANO,CAAV;QAQA,OAAOQ,MAAP;MAEA;;MAED,IAAMK,KAAK,GAAGC,QAAQ,CAACC,eAAT,CAA0B,8BAA1B,EAA0D,KAA1D,CAAd;;MAEA,SAASC,WAAT,GAAuB;QAEtBH,KAAK,CAACI,mBAAN,CAA2B,MAA3B,EAAmCD,WAAnC,EAAgD,KAAhD;QACAH,KAAK,CAACI,mBAAN,CAA2B,OAA3B,EAAoCC,YAApC,EAAkD,KAAlD;QAEAtB,KAAK,CAACuB,GAAN,CAAWnB,GAAX,EAAgB,IAAhB;QAEA,IAAKC,MAAL,EAAcA,MAAM,CAAE,IAAF,CAAN;QAEdM,KAAK,CAACR,OAAN,CAAca,OAAd,CAAuBZ,GAAvB;MAEA;;MAED,SAASkB,YAAT,CAAuBE,KAAvB,EAA+B;QAE9BP,KAAK,CAACI,mBAAN,CAA2B,MAA3B,EAAmCD,WAAnC,EAAgD,KAAhD;QACAH,KAAK,CAACI,mBAAN,CAA2B,OAA3B,EAAoCC,YAApC,EAAkD,KAAlD;QAEA,IAAKf,OAAL,EAAeA,OAAO,CAAEiB,KAAF,CAAP;QAEfb,KAAK,CAACR,OAAN,CAAcsB,SAAd,CAAyBrB,GAAzB;QACAO,KAAK,CAACR,OAAN,CAAca,OAAd,CAAuBZ,GAAvB;MAEA;;MAEDa,KAAK,CAACS,gBAAN,CAAwB,MAAxB,EAAgCN,WAAhC,EAA6C,KAA7C;MACAH,KAAK,CAACS,gBAAN,CAAwB,OAAxB,EAAiCJ,YAAjC,EAA+C,KAA/C;;MAEA,IAAKlB,GAAG,CAACuB,MAAJ,CAAY,CAAZ,EAAe,CAAf,MAAuB,OAA5B,EAAsC;QAErC,IAAK,KAAKC,WAAL,KAAqBnB,SAA1B,EAAsCQ,KAAK,CAACW,WAAN,GAAoB,KAAKA,WAAzB;MAEtC;;MAEDjB,KAAK,CAACR,OAAN,CAAcW,SAAd,CAAyBV,GAAzB;MAEAa,KAAK,CAACY,GAAN,GAAYzB,GAAZ;MAEA,OAAOa,KAAP;IAEA;;;;EA5EwBhB,M;;AAiF1B,SAASC,WAAT"},"metadata":{},"sourceType":"module"}